{
  "Id": "DisableHibernation",
  "Name": "Disable Hibernation",
  "Description": "Hibernation is really meant for laptops as it saves what's in memory before turning the pc off. It really should never be used, but some people are lazy and rely on it. Don't be like Bob. Bob likes hibernation.",
  "Category": "Essential Tweaks", 
  "Severity": "Medium",
  "Tags": ["power", "hibernation", "performance"],
  "CTTKey": "WPFTweaksHiber",
  "ApplyOperations": {
    "RegistryOperations": [
      {
        "Hive": "LocalMachine",
        "KeyPath": "System\\CurrentControlSet\\Control\\Session Manager\\Power",
        "ValueName": "HibernateEnabled",
        "Value": 0,
        "ValueType": "DWord",
        "Operation": "SetValue"
      },
      {
        "Hive": "LocalMachine",
        "KeyPath": "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FlyoutMenuSettings",
        "ValueName": "ShowHibernateOption", 
        "Value": 0,
        "ValueType": "DWord",
        "Operation": "SetValue"
      }
    ],
    "ServiceOperations": [],
    "FileOperations": [],
    "PowerShellOperations": [
      {
        "Script": "powercfg.exe /hibernate off",
        "Operation": "Execute"
      }
    ]
  },
  "UndoOperations": {
    "RegistryOperations": [
      {
        "Hive": "LocalMachine",
        "KeyPath": "System\\CurrentControlSet\\Control\\Session Manager\\Power",
        "ValueName": "HibernateEnabled",
        "Value": 1,
        "ValueType": "DWord",
        "Operation": "SetValue"
      },
      {
        "Hive": "LocalMachine",
        "KeyPath": "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FlyoutMenuSettings",
        "ValueName": "ShowHibernateOption", 
        "Value": 1,
        "ValueType": "DWord",
        "Operation": "SetValue"
      }
    ],
    "ServiceOperations": [],
    "FileOperations": [],
    "PowerShellOperations": [
      {
        "Script": "powercfg.exe /hibernate on",
        "Operation": "Execute"
      }
    ]
  },
  "DetectionRules": [
    {
      "Type": "Registry",
      "Hive": "LocalMachine",
      "KeyPath": "System\\CurrentControlSet\\Control\\Session Manager\\Power",
      "ValueName": "HibernateEnabled",
      "ExpectedValue": 0,
      "ValueType": "DWord"
    },
    {
      "Type": "Registry",
      "Hive": "LocalMachine",
      "KeyPath": "SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FlyoutMenuSettings",
      "ValueName": "ShowHibernateOption",
      "ExpectedValue": 0,
      "ValueType": "DWord"
    }
  ],
  "Authors": [
    {
      "Name": "Chris Titus",
      "Url": "https://github.com/ChrisTitusTech",
      "SupportUrl": "https://winutil.christitus.com/dev/tweaks/essential-tweaks/hiber",
      "Type": "Original",
      "Notes": "Original implementation from Chris Titus Tech's Windows utility for disabling hibernation"
    }
  ]
}